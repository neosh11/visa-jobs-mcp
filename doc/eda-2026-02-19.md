# EDA + Pipeline Health Report (2026-02-19)

## Dataset audited
- File: `data/companies.csv`
- Source files discovered from DOL performance page:
  - `LCA_Disclosure_Data_FY2026_Q1.xlsx`
  - `PERM_Disclosure_Data_FY2026_Q1.xlsx`
- Rows: `22,341`
- Columns: `22`

## Schema and null checks
- Canonical schema present with contact fields (`contact_*`, `contact_*_title`, `contact_*_phone`, `email_*`).
- `company_name` nulls/blanks: `0`
- Visa count columns nulls: `0`
- Contact coverage:
  - non-blank `contact_1`: `22,341`
  - non-blank `email_1`: `22,340`
  - non-blank `contact_1_phone`: `22,339`

## Distribution checks
- Total rows with non-zero total visas: `22,341`
- Rows with zero total visas: `0`
- Negative visa values: `0`
- Non-zero rows by visa type:
  - `h1b`: `15,966`
  - `h1b1_chile`: `251`
  - `h1b1_singapore`: `243`
  - `e3_australian`: `1,646`
  - `green_card`: `7,482`
- Visa totals (sum by type):
  - `h1b`: `79,852`
  - `h1b1_chile`: `455`
  - `h1b1_singapore`: `383`
  - `e3_australian`: `2,430`
  - `green_card`: `17,750`

## Company-name quality checks
- Blank normalized company names: `0`
- Duplicate normalized company names: `0`
- Mostly-digit company names: `0`
- Very short names (`len < 3`): `0`

## Outlier sanity
- `total_visas` median: `1`
- `total_visas` p90/p95/p99: `6 / 12 / 47`
- Max total visas: `2,322`
- Top companies by total visas are plausible large sponsors.

## Pipeline hardening added
- Added `quality_summary` into pipeline manifest output.
- Added strict validation checks in `run_dol_pipeline`:
  - no empty output
  - no duplicate normalized companies
  - no blank company names
  - no negative visa counts
  - non-zero visa aggregate
- Added CLI override flag:
  - `--no-strict-validation`
- Added contact extraction from DOL LCA/PERM datasets (POC/attorney/preparer).

## Result
- Current pipeline output passes strict validation.
- Current dataset appears production-usable for sponsor matching with contact enrichment.
